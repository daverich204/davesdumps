!function(t,e,n,s){"use strict";function o(e,n){this.__=t(e),this.accept=!1,this.content=null,this.settings=t.extend(!0,{},a,n),this._defaults=a,this._name=i,this.twitterIsReady=!1,this.twitterId=0,Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,s=function(){},o=function(){return n.apply(this instanceof s&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return s.prototype=this.prototype,o.prototype=new s,o}),this.isCookie()||(this.settings.beforeInit&&this.settings.beforeInit(),this.init())}var i="socialUnlocker",a={texts:{maskHeader:"Simple test heading",maskText:"Simple paragraph text",timerWaitText:"or wait",timerSecText:"sec",closeCharacter:"&times;"},theme:"",fullPage:!1,customClass:"",timer:0,closeButton:!1,beforeInit:!1,beforeCreateMask:!1,afterCreateMask:!1,afterRemoveMask:!1,afterAddContent:!1,afterFBLikeClick:!1,afterFBShareClick:!1,afterTwitterTweetClick:!1,afterTwitterFollowClick:!1,afterGooglePlusOneClick:!1,afterGooglePlusShareClick:!1,buttons:[],facebook:{appId:"0",lang:"en_US",likeButton:{url:"",colorscheme:"light",width:"100",action:"like",ref:"",layout:"button_count"},shareButton:{url:"",width:"100",layout:"button_count",name:"",picture:"",caption:"",description:""}},twitter:{lang:"en",tweetButton:{url:"http://www.createit.pl/en/",message:"",hashtags:"",related:"",count:"horizontal",size:"default"},followButton:{username:"",size:"default",showScreenName:"false"}},googlePlus:{lang:"en-US",plusOneButton:{url:"",size:"medium",annotation:"bubble",width:"55",align:"left",expandTo:""},shareButton:{url:"",annotation:"bubble",width:"85",height:"20",align:"left",expandTo:""}}};t.extend(o.prototype,{init:function(){this.getContent(),this.settings.beforeCreateMask&&this.settings.beforeCreateMask(),this.settings.customClass&&this.addCustomClass(),this.createMask(),this.settings.afterCreateMask&&this.settings.afterCreateMask()},addCustomClass:function(){var t=this,e=t.__;e.addClass(t.settings.customClass)},isCookie:function(){for(var t=this,n=!1,s=function(t){return e.localStorage[t]?!0:!1},o=0,i=t.settings.buttons.length;i>o;++o){switch(t.settings.buttons[o]){case"facebook_like":n=s(t.settings.facebook.likeButton.url);break;case"facebook_share":n=s(t.settings.facebook.shareButton.url);break;case"twitter_tweet":n=s(t.settings.twitter.tweetButton.url);break;case"twitter_follow":n=s(t.settings.twitter.followButton.username);break;case"google_plus1":n=s(t.settings.googlePlus.plusOneButton.url);break;case"google_share":n=s(t.settings.googlePlus.shareButton.url);break;default:t.errorSocialName(t.settings.buttons[o])}if(n)return!0}return!1},setCookie:function(t,n){t&&e.localStorage.setItem(t,n)},getContent:function(){var t=this,e=t.__;t.content=e.html(),e.html("")},addContent:function(){var t=this,e=t.__;e.html(t.content).fadeIn()},removeMask:function(){var t=this,e=t.__;e.find(".ct-mask-container").fadeOut()},urlNormalize:function(t){var e=t.toLowerCase(),n=e.length,s=e.indexOf("?");s>-1&&(e=e.substring(0,s));var o=e.lastIndexOf("/");if(o===n-1){for(var i=n-1;i>=0&&"/"===e[i];)--i;e=e.substring(0,++i)}return e+"/"},createFbConnection:function(){var n=this,s=n.__,o=function(){if(0===t("#fb-root").length){var e=t('<div id="fb-root"></div>');e.appendTo(t("body"))}if(0===t("#facebook-jssdk").length){var s="//connect.facebook.net/"+n.settings.facebook.lang+"/sdk.js",o=t('<script id="facebook-jssdk" type="text/javascript"></script>');o.attr("src",s),o.appendTo(t("head"))}};o();var i=function(){return"object"==typeof e.FB},a=function(){e.FB.init({appId:n.settings.facebook.appId,status:!0,xfbml:!0,version:"v2.6"}),e.FB.Event.subscribe("edge.create",function(t){s.trigger("facebookLike",[t])}),e.FB.init=function(){}};if(i())return void a();if(e.fbAsyncInit)var r=e.fbAsyncInit;e.fbAsyncInit=function(){a(),r&&r(),e.fbAsyncInit=function(){}}},createFbLikeButton:function(){var e=this,n=e.__;if(""===e.settings.facebook.likeButton.url||"undefined"===e.settings.facebook.likeButton.url)return void e.errorFBLikeURL(e.settings.facebook.likeButton.url);var s=n.find(".ct-mask-buttons-container"),o=t("<div class='ct-singleButton'><div class='ct-singleButton-outer'><div class='ct-singleButton-inner'><div class='fb-like' data-layout='"+e.settings.facebook.likeButton.layout+"'data-send='true'data-width='"+e.settings.facebook.likeButton.width+"'data-show-faces='false'data-colorscheme='"+e.settings.facebook.likeButton.colorscheme+"'data-share='false'data-action='"+e.settings.facebook.likeButton.action+"'data-href='"+e.settings.facebook.likeButton.url+"'data-rel='"+e.settings.facebook.likeButton.rel+"'></div></div></div></div>");s.append(o,[]),n.bind("facebookLike",function(t,n){e.urlNormalize(e.settings.facebook.likeButton.url)===e.urlNormalize(n)&&(e.removeMask(),e.settings.afterRemoveMask&&e.settings.afterRemoveMask(),e.setCookie(e.settings.facebook.likeButton.url,!0),e.addContent(),e.settings.afterAddContent&&e.settings.afterAddContent(),e.settings.afterFBLikeClick&&e.settings.afterFBLikeClick())})},createFbShareButton:function(){var e=this,n=e.__;if(""===e.settings.facebook.shareButton.url||"undefined"===e.settings.facebook.shareButton.url)return void e.errorFBShareURL(e.settings.facebook.shareButton.url);if(!e.settings.facebook.appId)return void e.errorFBAppId(e.settings.facebook.appId);var s=n.find(".ct-mask-buttons-container"),o=t("<div class='ct-singleButton'><div class='ct-singleButton-outer'><div class='ct-singleButton-inner'><div class='fb-share-button' data-layout='"+e.settings.facebook.shareButton.layout+"'data-width='"+e.settings.facebook.shareButton.width+"'data-href='"+e.settings.facebook.shareButton.url+"'data-mobile-iframe='true'></div><div class='ct-singleButton-overlap'></div></div></div></div>");s.append(o,[]);var i=n.find(".ct-singleButton-overlap");i.on("click",function(){FB.ui({method:"feed",name:e.settings.facebook.shareButton.name,link:e.settings.facebook.shareButton.url,picture:e.settings.facebook.shareButton.picture,caption:e.settings.facebook.shareButton.caption,description:e.settings.facebook.shareButton.description},function(t){t&&t.post_id&&n.trigger("facebookShare")})}.bind(e)),n.bind("facebookShare",function(){e.removeMask(),e.settings.afterRemoveMask&&e.settings.afterRemoveMask(),e.setCookie(e.settings.facebook.shareButton.url,!0),e.addContent(),e.settings.afterAddContent&&e.settings.afterAddContent(),e.settings.afterFBShareClick&&e.settings.afterFBShareClick()})},createTwitterConnection:function(){var n=this,s=n.__,o=function(){if(0===t("#twitter-wjs").length){var e="//platform.twitter.com/widgets.js",n=t('<script id="twitter-wjs" type="text/javascript"></script>');n.attr("src",e),n.appendTo(t("head"))}};o();var i=function(){return"undefined"!=typeof e.__twttrlr},a=function(){e.twttr.events.bind("tweet",function(t){s.trigger("twitterTweet",[t])}),e.twttr.events.bind("follow",function(t){s.trigger("twitterFollow",[t])})};return n.twitterIsReady=!0,i()?void a():(e.twttr||(e.twttr={}),e.twttr.ready||(e.twttr=t.extend(e.twttr,{_e:[],ready:function(t){this._e.push(t)}})),void twttr.ready(function(t){a()}))},createTwitterLikeButton:function(){var e=this,s=e.__;if(""===e.settings.twitter.tweetButton.url||"undefined"===e.settings.twitter.tweetButton.url)return void e.errorTwitterUsername(e.settings.twitter.tweetButton.url);var o=s.find(".ct-mask-buttons-container");if(n.addEventListener){var i=t("<div class='ct-singleButton'><div class='ct-singleButton-outer'><div class='ct-singleButton-inner' data-compare-id='"+e.twitterId+"'><a href='https://twitter.com/share'class='twitter-share-button' data-via='"+e.settings.twitter.tweetButton.url+"'data-text='"+e.settings.twitter.tweetButton.message+"'data-hashtags='"+e.settings.twitter.tweetButton.hashtags+"'data-count='"+e.settings.twitter.tweetButton.count+"'data-size='"+e.settings.twitter.tweetButton.size+"'data-lang='"+e.settings.twitter.lang+"'data-related='"+e.settings.twitter.tweetButton.related+"'></a><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script> </div></div></div>");o.append(i,[]),s.bind("twitterTweet",function(n,s){var o=t(s.target.parentElement).attr("data-compare-id");e.twitterId===o&&(e.removeMask(),e.settings.afterRemoveMask&&e.settings.afterRemoveMask(),e.setCookie(e.settings.twitter.tweetButton.url,!0),e.addContent(),e.settings.afterAddContent&&e.settings.afterAddContent(),e.settings.afterTwitterTweetClick&&e.settings.afterTwitterTweetClick())})}},createTwitterFollowButton:function(){var e=this,s=e.__;if(""===e.settings.twitter.followButton.username||"undefined"===e.settings.twitter.followButton.username)return void e.errorTwitterShareURL(e.settings.twitter.followButton.username);var o=s.find(".ct-mask-buttons-container");if(n.addEventListener){var i=t("<div class='ct-singleButton'><div class='ct-singleButton-outer'><div class='ct-singleButton-inner' data-compare-id='"+e.twitterId+"'><a href='https://twitter.com/"+e.settings.twitter.followButton.username+"'class='twitter-follow-button' data-size='"+e.settings.twitter.followButton.size+"'data-lang='"+e.settings.twitter.lang+"'data-show-screen-name='"+e.settings.twitter.followButton.showScreenName+"'></a></div></div></div>");o.append(i,[]),s.bind("twitterFollow",function(n,s){var o=t(s.target.parentElement).attr("data-compare-id");e.twitterId===o&&(e.removeMask(),e.settings.afterRemoveMask&&e.settings.afterRemoveMask(),e.setCookie(e.settings.twitter.followButton.username,!0),e.addContent(),e.settings.afterAddContent&&e.settings.afterAddContent(),e.settings.afterTwitterFollowClick&&e.settings.afterTwitterFollowClick())})}},createGooglePlusConnection:function(){var s=this,o=function(){if(0===t("#googlePlus-js").length){var e="https://apis.google.com/js/platform.js",n=t('<script id="googlePlus-js" type="text/javascript async defer"></script>');n.attr("src",e),n.appendTo(t("head"))}};o();var i=function(){e.___gcfg={lang:s.settings.googlePlus.lang},e.plusOneButtonCallback=function(e){"on"===e.state&&t(n).trigger("googlePlusOneButton",[e.href])},e.shareButtonCallback=function(e){t(n).trigger("googleShareButton",[e.id])}};i()},createGooglePlusOneButton:function(){var e=this,s=e.__;if(""===e.settings.googlePlus.plusOneButton.url||"undefined"===e.settings.googlePlus.plusOneButton.url)return void e.errorGooglePlusLikeURL(e.settings.googlePlus.plusOneButton.url);var o=s.find(".ct-mask-buttons-container"),i=t("<div class='ct-singleButton'><div class='ct-singleButton-outer'><div class='ct-singleButton-inner'><div class='g-plusone' data-href='"+e.settings.googlePlus.plusOneButton.url+"'data-size='"+e.settings.googlePlus.plusOneButton.size+"'data-annotation='"+e.settings.googlePlus.plusOneButton.annotation+"'data-width='"+e.settings.googlePlus.plusOneButton.width+"'data-align='"+e.settings.googlePlus.plusOneButton.align+"'data-expandTo='"+e.settings.googlePlus.plusOneButton.expandTo+"'data-callback='plusOneButtonCallback'></div></div></div></div>");o.append(i,[]),t(n).bind("googlePlusOneButton",function(t,n){e.urlNormalize(e.settings.googlePlus.plusOneButton.url)===e.urlNormalize(n)&&setTimeout(function(){e.removeMask(),e.settings.afterRemoveMask&&e.settings.afterRemoveMask(),e.setCookie(e.settings.googlePlus.plusOneButton.url,!0),e.addContent(),e.settings.afterAddContent&&e.settings.afterAddContent(),e.settings.afterGooglePlusOneClick&&e.settings.afterGooglePlusOneClick()},2e3)})},createGoogleShareButton:function(){},createMask:function(){var e=this,n=e.__,s=function(s){n.bind("timeEnd",function(){e.removeMask(),e.addContent(),e.settings.afterAddContent&&e.settings.afterAddContent()});var o=s,i=t("<div class='ct-timer-container'></div>"),a=t("<div class='ct-timer-inner'></div>");if(i.append(a,[]),e.settings.texts.timerWaitText){var r=t("<span class='ct-timerText'>"+e.settings.texts.timerWaitText+" </span>");a.append(r,[])}var l=t("<span class='ct-timer'> "+parseInt(e.settings.timer,10)+"</span>");if(a.append(l,[]),e.settings.texts.timerSecText){var c=t("<span class='ct-timerUnit'> "+e.settings.texts.timerSecText+" </span>");a.append(c,[])}o.append(i,[]);var u;u&&(clearInterval(u),u=null);var d=e.settings.timer,g=n.find(".ct-timer-container .ct-timer-inner .ct-timer");u=setInterval(function(){var t=--d;g.text(t),0>=d&&(clearInterval(u),u=null,n.trigger("timeEnd"))},1e3)},o=function(s){n.bind("clickCloseButton",function(){e.removeMask(),e.addContent(),e.settings.afterAddContent&&e.settings.afterAddContent()});var o=s,i=t("<div class='ct-closeButton-container'></div>"),a=t("<span class='ct-closeButton'>"+e.settings.texts.closeCharacter+"</span>");i.append(a,[]),o.append(i,[]),a.on("click",function(){n.trigger("clickCloseButton")})},i=function(){for(var t=0,n=e.settings.buttons.length;n>t;++t)switch(e.settings.buttons[t]){case"facebook_like":e.createFbConnection(),e.createFbLikeButton();break;case"facebook_share":e.createFbConnection(),e.createFbShareButton();break;case"twitter_tweet":e.twitterId||(e.twitterId="Id"+Math.random()+"CoreWin"+Math.random()),e.twitterIsReady||e.createTwitterConnection(),e.createTwitterLikeButton();break;case"twitter_follow":e.twitterId||(e.twitterId="Id"+Math.random()+"CoreWin"+Math.random()),e.twitterIsReady||e.createTwitterConnection(),e.createTwitterFollowButton();break;case"google_plus1":e.createGooglePlusConnection(),e.createGooglePlusOneButton();break;case"google_share":e.createGooglePlusConnection(),e.createGoogleShareButton();break;default:e.errorSocialName(e.settings.buttons[t])}},a=function(){var a=t("<div class='ct-mask-container "+e.settings.theme+"'></div>");e.settings.fullPage&&a.addClass("ct-fullPage");var r=t("<div class='ct-mask-outer'></div>"),l=t("<div class='ct-mask-inner'></div>");if(e.settings.texts.maskHeader||e.settings.texts.maskText)var c=t("<div class='ct-header'></div>");if(e.settings.texts.maskHeader){var u=t("<h4 class='ct-mask-header'>"+e.settings.texts.maskHeader+"</h4>");u.appendTo(c)}if(e.settings.texts.maskText){var d=t("<p class='ct-mask-text'>"+e.settings.texts.maskText+"</p>");d.appendTo(c)}c.appendTo(l);var g=t("<div class='ct-mask-buttons-container'></div>");g.appendTo(l),r.append(l,[]),a.append(r,[]),n.append(a,[]),e.settings.timer&&s(a),e.settings.closeButton&&o(a),e.settings.buttons.length>0&&i()};a()},errorSocialName:function(t){console.log("Not existed  social name: "+t)},errorFBLikeURL:function(t){console.log("Bad or not existed URL for facebook 'like' button: "+t)},errorFBShareURL:function(t){console.log("Bad or not existed URL for facebook 'share' button: "+t)},errorFBAppId:function(t){console.log("Bad or not existed AppId for facebook app: "+t)},errorTwitterUsername:function(t){console.log("Bad or not existed USERNAME for twitter 'tweet' button: "+t)},errorTwitterShareURL:function(t){console.log("Bad or not existed URL for twitter 'share' button: "+t)},errorGooglePlusLikeURL:function(t){console.log("Bad or not existed URL for googlePlus '+1' button: "+t)},errorGooglePlusShareURL:function(t){console.log("Bad or not existed URL for googlePlus 'share' button: "+t)}}),t.fn[i]=function(e){return this.each(function(){t.data(this,"plugin_"+i)||t.data(this,"plugin_"+i,new o(this,e))})}}(jQuery,window,document);
console.log("plugin");